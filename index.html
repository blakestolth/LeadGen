<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>Vancouver Island Credit | Auto Approvals Online — Work with Blake</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet"/>

  <style>
    :root{
      --blue-600:#2A5D9F;
      --blue-700:#214B80;
    }
    body{ font-family:'Inter',sans-serif; background:#f6f7fb; }
    .card{ background:#fff; border:1px solid #e5e7eb; border-radius:16px; box-shadow:0 8px 24px -14px rgba(16,24,40,.25); }
    .cta{ background:var(--blue-600); color:#fff; font-weight:800; padding:.85rem 1rem; border-radius:.8rem; }
    .cta:hover{ background:var(--blue-700); transform:translateY(-1px); }

    /* Inputs compact + consistent */
    .fi, .fs, .ta{
      width:100%; background:#f3f4f6; border:2px solid transparent; color:#0f172a;
      font-size:15px; padding:.66rem .78rem; border-radius:.7rem; transition:.2s;
    }
    .fi:focus, .fs:focus, .ta:focus{ background:#fff; border-color:var(--blue-600); box-shadow:0 0 0 3px rgba(42,93,159,.18); outline:none; }
    label.small{ font-size:.8rem; color:#374151; font-weight:600; margin-bottom:.34rem; display:block; }

    /* Tiles (tighter to fit fixed box) */
    .tile, .choice{
      display:flex; align-items:center; justify-content:center; text-align:center;
      background:#fff; border:2px solid #e5e7eb; border-radius:.68rem;
      padding:.5rem .65rem; font-weight:800; font-size:14.5px;
      width:100%; max-width:132px; height:50px;
      transition:.15s; cursor:pointer;
    }
    .tile:hover, .choice:hover{ border-color:var(--blue-600); background:#f5f8ff; }
    .tile.selected, .choice.selected{ border-color:var(--blue-600); background:#eef4ff; box-shadow:inset 0 0 0 2px var(--blue-600); }

    /* Budget tiles: shorter but larger numerals for readability */
    .tile--budget{ height:46px; font-size:16.5px; letter-spacing:.15px; }

    /* Form shell — fixed height; content fits, never grows */
    .form-shell{ position:relative; height:540px; overflow:hidden; }
    .form-inner{ height:100%; display:flex; flex-direction:column; }
    .step-wrap{ flex:1 1 auto; overflow:hidden; }
    .step{ height:100%; display:flex; flex-direction:column; }
    .step-body{ flex:1 1 auto; overflow:auto; padding-bottom:.2rem; }
    .step-footer{ padding-top:.4rem; }

    /* Step headings smaller/tighter for the first 3 steps */
    .step--compact h3{ margin-bottom:.5rem !important; }

    /* Progress */
    .track{ height:8px; background:#e5e7eb; border-radius:9999px; overflow:hidden; }
    .fill{ height:8px; background:linear-gradient(90deg, var(--blue-600), var(--blue-700)); width:0%; border-radius:9999px; transition:width .25s ease; }

    /* Segmented switch */
    .seg{ display:inline-flex; gap:.25rem; background:#f3f4f6; padding:.25rem; border-radius:.65rem; }
    .seg-btn{ padding:.4rem .65rem; border-radius:.5rem; font-weight:700; color:#374151; border:2px solid transparent; }
    .seg-btn[aria-pressed="true"]{ background:#e0ecff; color:#214B80; border-color:#bfdbfe; }

    /* Inventory cards */
    .bodytype-card{ border:1px solid #e5e7eb; border-radius:14px; overflow:hidden; background:#fff; transition:.15s; }
    .bodytype-card:hover{ transform:translateY(-2px); border-color:var(--blue-600); box-shadow:0 10px 18px -10px rgba(42,93,159,.35); }
    .bodytype-img{ height:120px; background:#e5e7eb center/cover no-repeat; }

    @media (max-width:380px){
      .tile, .choice{ max-width:124px; height:46px; font-size:14px; }
      .tile--budget{ height:44px; font-size:16px; }
      .form-shell{ height:520px; }
    }
  </style>
</head>
<body class="min-h-screen">
  <!-- HEADER / NAV -->
  <header class="container mx-auto max-w-5xl px-4 sm:px-6 pt-4">
    <nav class="card px-4 sm:px-6 py-3 flex items-center justify-between">
      <a href="#" class="flex items-center gap-3">
        <img src="Untitled_Artwork.PNG" alt="Vancouver Island Credit" class="h-10 w-auto object-contain rounded-md" onerror="this.style.display='none'"/>
        <span class="hidden sm:inline font-extrabold tracking-tight text-zinc-900">Vancouver Island Credit</span>
      </a>
      <!-- Right side restored: full desktop menu + CTA -->
      <div class="hidden sm:flex items-center gap-6 text-sm font-semibold text-zinc-700">
        <a href="#inventory" class="hover:text-[var(--blue-600)]">Inventory</a>
        <a href="#about" class="hover:text-[var(--blue-600)]">About</a>
        <a href="#contact" class="hover:text-[var(--blue-600)]">Contact</a>
        <a href="#lead-form" class="cta !py-2">Apply Now</a>
      </div>
      <!-- Mobile -->
      <button id="menuBtn" class="sm:hidden inline-flex items-center justify-center h-10 w-10 rounded-md border border-zinc-200">
        <svg class="h-5 w-5 text-zinc-700" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
      </button>
    </nav>
    <div id="mobileMenu" class="hidden sm:hidden mt-2 card px-4 py-3">
      <div class="flex flex-col gap-2 text-sm font-semibold text-zinc-700">
        <a href="#inventory" class="py-2 px-2 rounded hover:bg-zinc-100">Inventory</a>
        <a href="#about" class="py-2 px-2 rounded hover:bg-zinc-100">About</a>
        <a href="#contact" class="py-2 px-2 rounded hover:bg-zinc-100">Contact</a>
        <a href="#lead-form" class="mt-1 cta text-center">Apply Now</a>
      </div>
    </div>
  </header>

  <main class="container mx-auto max-w-5xl px-4 sm:px-6 py-6 space-y-8">
    <!-- HERO / ABOUT -->
    <section id="about" class="card p-5 sm:p-6">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <h1 class="font-black text-2xl sm:text-3xl tracking-tight text-zinc-900">Get driving in 3 simple steps</h1>
          <ol class="mt-4 space-y-2 text-sm text-zinc-800">
            <li class="flex gap-3"><span class="h-6 w-6 flex items-center justify-center rounded-full bg-zinc-100 text-[var(--blue-600)] font-extrabold">1</span> Enter your info (2–3 min).</li>
            <li class="flex gap-3"><span class="h-6 w-6 flex items-center justify-center rounded-full bg-zinc-100 text-[var(--blue-600)] font-extrabold">2</span> See options you actually qualify for.</li>
            <li class="flex gap-3"><span class="h-6 w-6 flex items-center justify-center rounded-full bg-zinc-100 text-[var(--blue-600)] font-extrabold">3</span> We deliver to your door—easy.</li>
          </ol>
        </div>
        <!-- Right side restored to headline + bullets only -->
        <div class="flex flex-col justify-center">
          <div class="flex items-center space-x-3 mb-3">
            <div class="bg-blue-100 p-3 rounded-xl">
              <svg class="w-6 h-6 text-[var(--blue-600)]" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
              </svg>
            </div>
            <h2 class="text-xl sm:text-2xl font-extrabold text-zinc-900">Fastest Online Approval</h2>
          </div>
          <ul class="space-y-2 text-[14.5px] text-zinc-700">
            <li><strong class="text-zinc-900">Avoid the runaround:</strong> Deal with one real person.</li>
            <li><strong class="text-zinc-900">All credit welcome:</strong> High approval rates.</li>
            <li><strong class="text-zinc-900">Huge selection:</strong> New & used vehicles across BC.</li>
            <li><strong class="text-zinc-900">Delivery:</strong> To your door—anywhere in BC.</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- FORM -->
    <section class="card p-0 overflow-hidden" id="lead-form">
      <div class="form-shell" id="form-shell">
        <form id="appForm" name="lead-form" method="POST" data-netlify="true" data-netlify-honeypot="bot-field" action="/thank-you.html" class="form-inner" novalidate>
          <input type="hidden" name="form-name" value="lead-form"/>
          <input type="hidden" name="vehicleType" id="vehicleType"/>
          <input type="hidden" name="vehicleCondition" id="vehicleCondition"/>
          <input type="hidden" name="app_type" id="app_type"/>

          <!-- progress -->
          <div class="sticky top-0 z-10 bg-white px-4 sm:px-6 pt-4 pb-3 border-b">
            <div class="flex items-center justify-between mb-2">
              <div id="progress-label" class="text-xs font-semibold text-zinc-700">Step 1 of 6</div>
              <div id="progress-cap" class="text-xs font-semibold text-[var(--blue-700)]">Let’s get you approved</div>
            </div>
            <div class="track"><div id="progress-fill" class="fill"></div></div>
          </div>

          <!-- steps container -->
          <div id="steps" class="step-wrap px-4 sm:px-6 py-3">
            <!-- 1 Vehicle Type (compact) -->
            <section class="step step--compact" data-stepid="vehicle">
              <div class="step-body">
                <h3 class="text-lg sm:text-xl font-extrabold text-zinc-900 mb-2">What type of vehicle?</h3>
                <div class="grid grid-cols-2 gap-2 justify-items-center">
                  <button type="button" class="tile" data-type="Car">Car</button>
                  <button type="button" class="tile" data-type="SUV">SUV</button>
                  <button type="button" class="tile" data-type="Truck">Truck</button>
                  <button type="button" class="tile" data-type="Van">Van</button>
                </div>
              </div>
              <div class="step-footer"></div>
            </section>

            <!-- 2 Condition (compact) -->
            <section class="step step--compact hidden" data-stepid="condition">
              <div class="step-body">
                <h3 class="text-lg sm:text-xl font-extrabold text-zinc-900 mb-2">Used or New?</h3>
                <div class="grid grid-cols-2 gap-2 justify-items-center">
                  <button type="button" class="choice" data-cond="Used">Used</button>
                  <button type="button" class="choice" data-cond="New">New</button>
                </div>
              </div>
              <div class="step-footer"></div>
            </section>

            <!-- 3 Budget (compact) -->
            <section class="step step--compact hidden" data-stepid="budget">
              <div class="step-body">
                <h3 class="text-lg sm:text-xl font-extrabold text-zinc-900 mb-2">Monthly budget?</h3>
                <div class="grid grid-cols-2 gap-2 justify-items-center">
                  <label class="tile tile--budget cursor-pointer"><input class="sr-only" type="radio" name="budgetRange" value="$250–$375"><span>$250–$375</span></label>
                  <label class="tile tile--budget cursor-pointer"><input class="sr-only" type="radio" name="budgetRange" value="$376–$499"><span>$376–$499</span></label>
                  <label class="tile tile--budget cursor-pointer"><input class="sr-only" type="radio" name="budgetRange" value="$500–$750"><span>$500–$750</span></label>
                  <label class="tile tile--budget cursor-pointer"><input class="sr-only" type="radio" name="budgetRange" value="$750+"><span>$750+</span></label>
                </div>
              </div>
              <div class="step-footer"></div>
            </section>

            <!-- 4 App Type -->
            <section class="step hidden" data-stepid="apptype">
              <div class="step-body">
                <h3 class="text-xl font-extrabold text-zinc-900 mb-1">Choose your path</h3>
                <p class="text-[13px] text-zinc-600 mb-3">Credit Inquiry = quick look at where you stand. Full Application = exact options (if Blake sent you here).</p>
                <div class="grid grid-cols-2 gap-2 justify-items-center">
                  <button type="button" class="choice" data-app="Credit Inquiry">Credit Inquiry</button>
                  <button type="button" class="choice" data-app="Full Application">Full Application</button>
                </div>
              </div>
              <div class="step-footer"></div>
            </section>

            <!-- 5 Your Information (merged) -->
            <section class="step hidden" data-stepid="info">
              <div class="step-body">
                <h3 class="text-xl font-extrabold text-zinc-900 mb-3">Your information</h3>

                <div class="grid grid-cols-3 gap-2">
                  <div>
                    <label class="small" for="firstName">First name <span class="text-red-500">*</span></label>
                    <input id="firstName" name="firstName" class="fi" required>
                  </div>
                  <div>
                    <label class="small" for="middleName">Middle name <span class="text-red-500">*</span></label>
                    <input id="middleName" name="middleName" class="fi" required>
                  </div>
                  <div>
                    <label class="small" for="lastName">Last name <span class="text-red-500">*</span></label>
                    <input id="lastName" name="lastName" class="fi" required>
                  </div>
                </div>

                <div class="grid grid-cols-2 gap-2 mt-2">
                  <div>
                    <label class="small" for="phone">Phone <span class="text-red-500">*</span></label>
                    <input id="phone" name="phone" class="fi" inputmode="tel" required>
                  </div>
                  <div>
                    <label class="small" for="email">Email <span class="text-red-500">*</span></label>
                    <input id="email" name="email" type="email" class="fi" required>
                  </div>
                </div>

                <div class="grid grid-cols-4 gap-2 mt-2">
                  <div>
                    <label class="small" for="dobMonth">DOB</label>
                    <select id="dobMonth" name="dobMonth" class="fs" required><option value="">Month</option></select>
                  </div>
                  <div class="self-end">
                    <select id="dobDay" name="dobDay" class="fs" required><option value="">Day</option></select>
                  </div>
                  <div class="self-end">
                    <input id="dobYear" name="dobYear" class="fi" placeholder="Year" inputmode="numeric" required>
                  </div>
                  <div>
                    <label class="small" for="maritalStatus">Marital status</label>
                    <select id="maritalStatus" name="maritalStatus" class="fs" required>
                      <option value="">Select…</option>
                      <option>Single</option><option>Married</option><option>Common-Law</option>
                      <option>Divorced</option><option>Separated</option><option>Widowed</option>
                    </select>
                  </div>
                </div>
              </div>
              <div class="step-footer"></div>
            </section>

            <!-- 6 Address + Housing -->
            <section class="step hidden" data-stepid="address">
              <div class="step-body">
                <h3 class="text-xl font-extrabold text-zinc-900 mb-3">Where do you live?</h3>
                <label class="small" for="currentStreetAddress">Current address <span class="text-red-500">*</span></label>
                <input id="currentStreetAddress" name="currentStreetAddress" class="fi" autocomplete="street-address" required>

                <div class="grid grid-cols-6 gap-2 mt-2">
                  <input id="currentCity" name="currentCity" class="fi col-span-3" placeholder="City" autocomplete="address-level2" required>
                  <select id="currentProvince" name="currentProvince" class="fs col-span-2" required><option value="">Province</option></select>
                  <input id="currentPostalCode" name="currentPostalCode" class="fi col-span-1" placeholder="Postal" autocomplete="postal-code" required>
                </div>

                <!-- Housing row always after current address, before previous address -->
                <div class="grid grid-cols-2 gap-2 mt-2" id="housingRow">
                  <div>
                    <label class="small" for="housingPayment">Monthly Payment <span class="text-red-500">*</span></label>
                    <input id="housingPayment" name="housingPayment" class="fi" placeholder="$1,500" inputmode="numeric" required>
                  </div>
                  <div>
                    <label class="small">Rent or Own? <span class="text-red-500">*</span></label>
                    <div class="seg">
                      <button type="button" class="seg-btn" id="btnRent" aria-pressed="true">Rent</button>
                      <button type="button" class="seg-btn" id="btnOwn" aria-pressed="false">Own</button>
                    </div>
                    <input type="hidden" id="housingType" name="housingType" value="Rent">
                  </div>
                </div>

                <!-- Duration (Full only) -->
                <div id="addrDuration" class="grid grid-cols-2 gap-2 mt-2 hidden">
                  <div>
                    <label class="small" for="timeAtAddressYears">Time at current address <span class="text-red-500">*</span></label>
                    <select id="timeAtAddressYears" name="timeAtAddressYears" class="fs" required><option value="">Years</option></select>
                  </div>
                  <div class="self-end">
                    <select id="timeAtAddressMonths" name="timeAtAddressMonths" class="fs" required><option value="">Months</option></select>
                  </div>
                </div>
              </div>
              <div class="step-footer"></div>
            </section>

            <!-- (DYNAMIC) Previous Address -->
            <section class="step hidden" data-stepid="prev-address" id="prevAddressStep">
              <div class="step-body">
                <h3 class="text-xl font-extrabold text-zinc-900 mb-3">Previous address</h3>
                <label class="small" for="prevStreetAddress">Street <span class="text-red-500">*</span></label>
                <input id="prevStreetAddress" name="prevStreetAddress" class="fi" required>

                <div class="grid grid-cols-6 gap-2 mt-2">
                  <input id="prevCity" name="prevCity" class="fi col-span-3" placeholder="City" required>
                  <select id="prevProvince" name="prevProvince" class="fs col-span-2" required><option value="">Province</option></select>
                  <input id="prevPostalCode" name="prevPostalCode" class="fi col-span-1" placeholder="Postal" required>
                </div>

                <div class="grid grid-cols-2 gap-2 mt-2">
                  <div>
                    <label class="small" for="prevTimeAtAddressYears">Time at previous address <span class="text-red-500">*</span></label>
                    <select id="prevTimeAtAddressYears" name="prevTimeAtAddressYears" class="fs" required><option value="">Years</option></select>
                  </div>
                  <div class="self-end">
                    <select id="prevTimeAtAddressMonths" name="prevTimeAtAddressMonths" class="fs" required><option value="">Months</option></select>
                  </div>
                </div>
              </div>
              <div class="step-footer"></div>
            </section>

            <!-- 7 Income -->
            <section class="step hidden" data-stepid="income">
              <div class="step-body">
                <h3 class="text-xl font-extrabold text-zinc-900 mb-3">Income</h3>

                <!-- Simple (Credit Inquiry) -->
                <div id="incomeSimple" class="space-y-2">
                  <div>
                    <label class="small" for="incomeSource">Primary income source</label>
                    <select id="incomeSource" name="incomeSource" class="fs">
                      <option value="">Please select…</option>
                      <option value="Full-Time">Full-Time Employment</option>
                      <option value="Part-Time">Part-Time Employment</option>
                      <option value="Self-Employed">Self-Employed / Business Owner</option>
                      <option value="Disability">Disability</option>
                      <option value="Other">Other</option>
                    </select>
                  </div>
                  <div>
                    <label class="small" for="monthlyIncome">Monthly income (before tax) <span class="text-red-500">*</span></label>
                    <input id="monthlyIncome" name="monthlyIncome" class="fi" placeholder="$3,500" inputmode="numeric" required>
                  </div>
                </div>

                <!-- Full (expanded) -->
                <div id="incomeFull" class="hidden space-y-2">
                  <div>
                    <label class="small" for="incomeSourceFull">Primary income source <span class="text-red-500">*</span></label>
                    <select id="incomeSourceFull" name="incomeSourceFull" class="fs">
                      <option value="">Please select…</option>
                      <option value="Full-Time">Full-Time Employment</option>
                      <option value="Part-Time">Part-Time Employment</option>
                      <option value="Self-Employed">Self-Employed / Business Owner</option>
                      <option value="Disability">Disability</option>
                      <option value="Other">Other</option>
                    </select>
                  </div>

                  <div id="blockEmployment" class="hidden space-y-2">
                    <div>
                      <label class="small" for="currentEmployer">Employer <span class="text-red-500">*</span></label>
                      <input id="currentEmployer" name="currentEmployer" class="fi" placeholder="Company name">
                    </div>
                    <div>
                      <label class="small" for="jobTitle">Position / Job Title <span class="text-red-500">*</span></label>
                      <input id="jobTitle" name="jobTitle" class="fi" placeholder="Your role">
                    </div>
                    <div class="grid grid-cols-2 gap-2">
                      <div>
                        <label class="small" for="timeWithEmployerYears">Time with employer <span class="text-red-500">*</span></label>
                        <select id="timeWithEmployerYears" name="timeWithEmployerYears" class="fs"><option value="">Years</option></select>
                      </div>
                      <div class="self-end">
                        <select id="timeWithEmployerMonths" name="timeWithEmployerMonths" class="fs"><option value="">Months</option></select>
                      </div>
                    </div>
                  </div>

                  <div id="blockSelf" class="hidden space-y-2">
                    <div>
                      <label class="small" for="businessName">Business name <span class="text-red-500">*</span></label>
                      <input id="businessName" name="businessName" class="fi" placeholder="Your business">
                    </div>
                    <div>
                      <label class="small" for="avgMonthlyIncome">Average monthly income (before tax) <span class="text-red-500">*</span></label>
                      <input id="avgMonthlyIncome" name="avgMonthlyIncome" class="fi" placeholder="$4,000" inputmode="numeric">
                    </div>
                  </div>

                  <div id="blockOther" class="hidden space-y-2">
                    <div>
                      <label class="small" for="otherIncomeAmount">Monthly income amount (before tax) <span class="text-red-500">*</span></label>
                      <input id="otherIncomeAmount" name="otherIncomeAmount" class="fi" placeholder="$2,000" inputmode="numeric">
                    </div>
                    <div>
                      <label class="small" for="otherIncomeSource">Source description <span class="text-red-500">*</span></label>
                      <input id="otherIncomeSource" name="otherIncomeSource" class="fi" placeholder="Describe the source">
                    </div>
                  </div>
                </div>
              </div>
              <div class="step-footer"></div>
            </section>

            <!-- (DYNAMIC) Previous Employment -->
            <section class="step hidden" data-stepid="prev-employment" id="prevEmploymentStep">
              <div class="step-body">
                <h3 class="text-xl font-extrabold text-zinc-900 mb-3">Previous employment</h3>
                <div>
                  <label class="small" for="previousEmployer">Previous employer <span class="text-red-500">*</span></label>
                  <input id="previousEmployer" name="previousEmployer" class="fi" placeholder="Company" required>
                </div>
                <div class="grid grid-cols-2 gap-2 mt-2">
                  <div>
                    <label class="small" for="prevTimeWithEmployerYears">Time at prev employer <span class="text-red-500">*</span></label>
                    <select id="prevTimeWithEmployerYears" name="prevTimeWithEmployerYears" class="fs" required><option value="">Years</option></select>
                  </div>
                  <div class="self-end">
                    <select id="prevTimeWithEmployerMonths" name="prevTimeWithEmployerMonths" class="fs" required><option value="">Months</option></select>
                  </div>
                </div>
              </div>
              <div class="step-footer"></div>
            </section>

            <!-- 8 Consent & Submit -->
            <section class="step hidden" data-stepid="consent">
              <div class="step-body">
                <h3 class="text-xl font-extrabold text-zinc-900 mb-3">Consent & submit</h3>
                <div id="consentBox" class="hidden">
                  <label class="flex items-start gap-3 bg-zinc-100 p-3 rounded-lg">
                    <input id="creditConsent" name="creditConsent" type="checkbox" class="mt-1">
                    <span class="text-[13px] text-zinc-700">
                      I consent to a credit inquiry by Vancouver Island Credit to assess financing options and confirm the information provided is accurate.
                      <span class="text-red-500 font-bold">*</span>
                    </span>
                  </label>
                </div>
                <p id="consentInline" class="text-[12px] text-zinc-600">By submitting, you consent to Vancouver Island Credit collecting and using the information you provide to assess financing options and to contact you about your application.</p>
              </div>
              <div class="step-footer">
                <button type="submit" class="cta w-full">Submit and See Options</button>
                <p id="formStatus" class="text-center text-xs text-red-600 mt-2" aria-live="polite"></p>
              </div>
            </section>
          </div>

          <!-- next/back -->
          <div class="px-4 sm:px-6 pb-4 flex items-center justify-between">
            <button type="button" id="btnBack" class="text-sm font-semibold text-zinc-500 hover:text-zinc-800 px-2 py-2">Back</button>
            <button type="button" id="btnNext" class="cta">Next</button>
          </div>
        </form>
      </div>
    </section>

    <!-- INVENTORY (8 boxes) -->
    <section id="inventory" class="card p-5 sm:p-6">
      <div class="flex items-center justify-between mb-3">
        <h3 class="text-xl font-extrabold text-zinc-900">Browse by Vehicle Type</h3>
        <a href="#lead-form" class="text-sm font-semibold text-[var(--blue-600)] hover:underline">Apply to see matches</a>
      </div>
      <p class="text-sm text-zinc-600 mb-4">Pick a category to see matching options after a quick approval.</p>

      <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">
        <a href="#lead-form" class="bodytype-card">
          <div class="bodytype-img" style="background-image:url('/img/bodytype-suv.jpg');"></div>
          <div class="p-3"><p class="font-semibold text-sm">SUV / Crossover</p></div>
        </a>
        <a href="#lead-form" class="bodytype-card">
          <div class="bodytype-img" style="background-image:url('/img/bodytype-truck.jpg');"></div>
          <div class="p-3"><p class="font-semibold text-sm">Truck</p></div>
        </a>
        <a href="#lead-form" class="bodytype-card">
          <div class="bodytype-img" style="background-image:url('/img/bodytype-sedan.jpg');"></div>
          <div class="p-3"><p class="font-semibold text-sm">Sedan</p></div>
        </a>
        <a href="#lead-form" class="bodytype-card">
          <div class="bodytype-img" style="background-image:url('/img/bodytype-coupe.jpg');"></div>
          <div class="p-3"><p class="font-semibold text-sm">Coupe</p></div>
        </a>
        <a href="#lead-form" class="bodytype-card">
          <div class="bodytype-img" style="background-image:url('/img/bodytype-minivan.jpg');"></div>
          <div class="p-3"><p class="font-semibold text-sm">Minivan</p></div>
        </a>
        <a href="#lead-form" class="bodytype-card">
          <div class="bodytype-img" style="background-image:url('/img/bodytype-hatchback.jpg');"></div>
          <div class="p-3"><p class="font-semibold text-sm">Hatchback</p></div>
        </a>
        <a href="#lead-form" class="bodytype-card">
          <div class="bodytype-img" style="background-image:url('/img/bodytype-convertible.jpg');"></div>
          <div class="p-3"><p class="font-semibold text-sm">Convertible</p></div>
        </a>
        <a href="#lead-form" class="bodytype-card">
          <div class="bodytype-img" style="background-image:url('/img/bodytype-wagon.jpg');"></div>
          <div class="p-3"><p class="font-semibold text-sm">Wagon</p></div>
        </a>
      </div>
    </section>

    <footer id="contact" class="text-center text-xs text-zinc-500">
      <p class="font-semibold text-zinc-600">Vancouver Island Credit</p>
      <p>525 Gorge Rd E, Victoria, BC V8T 4T2 • <a href="tel:2369692424" class="hover:text-[var(--blue-600)]">(236) 969-2424</a></p>
      <p class="mt-1">© <span id="year"></span> Vancouver Island Credit • All rights reserved</p>
    </footer>
  </main>

  <script>
    // Helpers
    const $ = (s, r=document) => r.querySelector(s);
    const $$ = (s, r=document) => Array.from(r.querySelectorAll(s));

    // Mobile menu
    $('#menuBtn')?.addEventListener('click', ()=> $('#mobileMenu')?.classList.toggle('hidden'));

    // State
    let stepOrder = [];
    let curIndex = 0;
    const stepsRoot = $('#steps');

    function baseSteps(){
      stepOrder = [
        'vehicle',
        'condition',
        'budget',
        'apptype',
        'info',
        'address',
        'income',
        'consent'
      ];
    }

    function showStepByIndex(i){
      curIndex = Math.max(0, Math.min(i, stepOrder.length-1));
      const id = stepOrder[curIndex];
      $$('.step', stepsRoot).forEach(s => s.classList.add('hidden'));
      $(`.step[data-stepid="${id}"]`, stepsRoot)?.classList.remove('hidden');
      updateProgressUI();
      $('#form-shell')?.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function updateProgressUI(){
      $('#progress-label').textContent = `Step ${curIndex+1} of ${stepOrder.length}`;
      $('#progress-fill').style.width = `${Math.round((curIndex)/(Math.max(1, stepOrder.length-1))*100)}%`;
      $('#progress-cap').textContent = (curIndex === stepOrder.length-1) ? 'Ready to see your options' : 'Let’s get you approved';
    }

    function ensureStepAfter(stepIdToInsert, afterStepId){
      const exists = stepOrder.includes(stepIdToInsert);
      if (!exists){
        const idx = stepOrder.indexOf(afterStepId);
        if (idx !== -1){
          stepOrder.splice(idx+1, 0, stepIdToInsert);
        }
      }
    }
    function removeStep(stepId){
      const idx = stepOrder.indexOf(stepId);
      if (idx !== -1){
        stepOrder.splice(idx,1);
      }
    }

    // Mode
    const mode = () => $('#app_type')?.value || '';
    function setAppMode(m){
      $('#app_type').value = m || '';
      $$('.choice[data-app]').forEach(b=>{ b.classList.remove('selected'); if(b.dataset.app===m){ b.classList.add('selected'); }});

      const isCredit = m === 'Credit Inquiry';
      const isFull   = m === 'Full Application';

      // Always required (per spec)
      ['firstName','middleName','lastName','phone','email','dobYear','dobDay','dobMonth','maritalStatus']
        .forEach(id => { const n = $('#'+id); if(n) n.required = true; });

      ['currentStreetAddress','currentCity','currentProvince','currentPostalCode','housingPayment']
        .forEach(id => { const n = $('#'+id); if(n) n.required = true; });

      // Address duration only Full
      $('#addrDuration').classList.toggle('hidden', !isFull);
      if (!isFull){ removeStep('prev-address'); }

      // Income UI swap
      $('#incomeSimple').classList.toggle('hidden', isFull);
      $('#incomeFull').classList.toggle('hidden', !isFull);

      // Consent variant
      $('#consentBox').classList.toggle('hidden', !isFull);
      $('#consentInline').classList.toggle('hidden', isFull);
      const cb = $('#creditConsent'); if (cb) cb.required = isFull;

      updateProgressUI();
    }

    // Housing segmented
    function setHousing(type){
      $('#housingType').value = type;
      $('#btnRent').setAttribute('aria-pressed', String(type==='Rent'));
      $('#btnOwn').setAttribute('aria-pressed', String(type==='Own'));
    }
    $('#btnRent')?.addEventListener('click', ()=> setHousing('Rent'));
    $('#btnOwn')?.addEventListener('click', ()=> setHousing('Own'));
    setHousing('Rent');

    // Vehicle
    $$('.tile[data-type]').forEach(b=>{
      b.addEventListener('click', ()=>{
        $('#vehicleType').value = b.dataset.type;
        $$('.tile[data-type]').forEach(x=>x.classList.remove('selected'));
        b.classList.add('selected');
        next(1);
      });
    });

    // Condition
    $$('.choice[data-cond]').forEach(b=>{
      b.addEventListener('click', ()=>{
        $('#vehicleCondition').value = b.dataset.cond;
        $$('.choice[data-cond]').forEach(x=>x.classList.remove('selected'));
        b.classList.add('selected');
        next(1);
      });
    });

    // Budget
    $$('label.tile--budget').forEach(lbl=>{
      const input = $('input[type="radio"]', lbl);
      lbl.addEventListener('click', ()=>{ input.checked = true; next(1); });
    });

    // App type
    $$('.choice[data-app]').forEach(b=>{
      b.addEventListener('click', ()=>{
        setAppMode(b.dataset.app);
        next(1);
      });
    });

    // Provinces
    function populateProvinces(sel){
      const prov=["AB","BC","MB","NB","NL","NS","NT","NU","ON","PE","QC","SK","YT"];
      prov.forEach(p=>{ const o=document.createElement('option'); o.value=p; o.textContent=p; sel.appendChild(o); });
    }
    populateProvinces($('#currentProvince'));
    populateProvinces($('#prevProvince'));

    // DOB selects
    function populateMonths(sel){
      const m=["January","February","March","April","May","June","July","August","September","October","November","December"];
      m.forEach((mm,i)=>{ const o=document.createElement('option'); o.value=i+1; o.textContent=mm; sel.appendChild(o); });
    }
    function updateDays(){
      const y=parseInt($('#dobYear').value||'',10);
      const m=parseInt($('#dobMonth').value||'',10);
      const sel=parseInt($('#dobDay').value||'',10);
      const days=(y&&m)?new Date(y,m,0).getDate():31;
      $('#dobDay').innerHTML='<option value="">Day</option>';
      for(let i=1;i<=days;i++){ const o=document.createElement('option'); o.value=i; o.textContent=i; $('#dobDay').appendChild(o); }
      if(sel&&sel<=days) $('#dobDay').value = sel;
    }
    populateMonths($('#dobMonth'));
    updateDays();
    $('#dobMonth').addEventListener('change', updateDays);
    $('#dobYear').addEventListener('input', updateDays);

    // Ranges
    function populateRange(sel, start, end, label){
      for(let i=start;i<=end;i++){ const o=document.createElement('option'); o.value=i; o.textContent=i+' '+label; sel.appendChild(o); }
    }
    populateRange($('#timeWithEmployerYears'),0,30,'Years');
    populateRange($('#timeWithEmployerMonths'),0,11,'Months');
    populateRange($('#prevTimeWithEmployerYears'),0,30,'Years');
    populateRange($('#prevTimeWithEmployerMonths'),0,11,'Months');
    populateRange($('#timeAtAddressYears'),0,30,'Years');
    populateRange($('#timeAtAddressMonths'),0,11,'Months');
    populateRange($('#prevTimeAtAddressYears'),0,30,'Years');
    populateRange($('#prevTimeAtAddressMonths'),0,11,'Months');

    // Income branching for Full
    $('#incomeSourceFull')?.addEventListener('change', ()=>{
      const v = $('#incomeSourceFull').value;
      const employed = (v==='Full-Time' || v==='Part-Time');
      const selfEmp = (v==='Self-Employed');
      const other = (v==='Disability' || v==='Other');

      $('#blockEmployment').classList.toggle('hidden', !employed);
      $('#blockSelf').classList.toggle('hidden', !selfEmp);
      $('#blockOther').classList.toggle('hidden', !other);

      if (!employed) removeStep('prev-employment');
      updateProgressUI();
    });

    // FULL: previous employment trigger (<24 months)
    $('#timeWithEmployerYears')?.addEventListener('change', checkPrevEmploymentNeed);
    $('#timeWithEmployerMonths')?.addEventListener('change', checkPrevEmploymentNeed);
    function checkPrevEmploymentNeed(){
      if (mode() !== 'Full Application') return;
      if ($('#blockEmployment').classList.contains('hidden')){ removeStep('prev-employment'); updateProgressUI(); return; }
      const y = parseInt($('#timeWithEmployerYears').value||'0',10);
      const m = parseInt($('#timeWithEmployerMonths').value||'0',10);
      const months = (y*12)+m;
      if (y || m){
        if (months < 24){ ensureStepAfter('prev-employment', 'income'); }
        else { removeStep('prev-employment'); }
        updateProgressUI();
      }
    }

    // FULL: previous address trigger (<24 months)
    $('#timeAtAddressYears')?.addEventListener('change', checkPrevAddressNeed);
    $('#timeAtAddressMonths')?.addEventListener('change', checkPrevAddressNeed);
    function checkPrevAddressNeed(){
      if (mode() !== 'Full Application') return;
      const y = parseInt($('#timeAtAddressYears').value||'0',10);
      const m = parseInt($('#timeAtAddressMonths').value||'0',10);
      const months = (y*12)+m;
      if (y || m){
        if (months < 24){ ensureStepAfter('prev-address', 'address'); }
        else { removeStep('prev-address'); }
        updateProgressUI();
      }
    }

    // Formatting
    function fmtCurrency(e){
      const raw = e.target.value.replace(/[$, ]/g,'');
      if (!raw || isNaN(raw)) { e.target.value=''; return; }
      e.target.value = '$' + Number(raw).toLocaleString('en-US');
    }
    $('#monthlyIncome')?.addEventListener('input', fmtCurrency);
    $('#avgMonthlyIncome')?.addEventListener('input', fmtCurrency);
    $('#otherIncomeAmount')?.addEventListener('input', fmtCurrency);
    $('#housingPayment')?.addEventListener('input', fmtCurrency);

    function fmtPhone(e){
      const d=e.target.value.replace(/\D/g,'').slice(0,10);
      if (d.length>6) e.target.value=`(${d.slice(0,3)}) ${d.slice(3,6)}-${d.slice(6)}`;
      else if (d.length>3) e.target.value=`(${d.slice(0,3)}) ${d.slice(3)}`;
      else if (d.length>0) e.target.value=`(${d}`;
    }
    $('#phone')?.addEventListener('input', fmtPhone);

    // Navigation
    function next(delta){
      const target = curIndex + delta;
      if (target < 0) { showStepByIndex(0); return; }
      if (target >= stepOrder.length){
        if (delta>0) submitForm();
        return;
      }
      showStepByIndex(target);
    }
    $('#btnNext').addEventListener('click', ()=> next(1));
    $('#btnBack').addEventListener('click', ()=> next(-1));

    // Submit
    async function submitForm(){
      const curStepId = stepOrder[curIndex];
      const stepEl = $(`.step[data-stepid="${curStepId}"]`);
      const required = $$('[required]', stepEl).filter(n=>!n.closest('.hidden'));
      let ok = true;
      required.forEach(el=>{
        let pass = (el.type==='checkbox') ? el.checked : (el.value && el.value.trim()!=='');
        if (el.id==='email'){ const v=el.value.trim(); pass = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v); }
        if (!pass) { ok=false; el.classList.add('ring-2','ring-red-400'); setTimeout(()=>el.classList.remove('ring-2','ring-red-400'), 1600); }
      });
      if (!ok){ $('#formStatus').textContent = 'Please complete all required fields.'; showStepByIndex(stepOrder.indexOf('consent')); return; }

      try{
        const fd = new FormData($('#appForm'));
        await fetch('/', { method:'POST', headers:{'Content-Type':'application/x-www-form-urlencoded'}, body:new URLSearchParams(fd).toString() });
        window.location.href = '/thank-you.html';
      }catch(err){
        $('#appForm').submit();
      }
    }

    // Boot
    (function init(){
      baseSteps();
      showStepByIndex(0);
      $('#year').textContent = new Date().getFullYear();
    })();
  </script>
</body>
</html>
